<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>http的缺点 | 周非凡个人博客</title>
    <meta name="description" content="Vue 驱动的静态网站生成器">
    
    
    <link rel="preload" href="/assets/css/0.styles.d01e3fed.css" as="style"><link rel="preload" href="/assets/js/app.c9da9db2.js" as="script"><link rel="preload" href="/assets/js/2.febc0262.js" as="script"><link rel="preload" href="/assets/js/48.d573af72.js" as="script"><link rel="prefetch" href="/assets/js/10.0253064e.js"><link rel="prefetch" href="/assets/js/11.175002a3.js"><link rel="prefetch" href="/assets/js/12.c9c2623b.js"><link rel="prefetch" href="/assets/js/13.a252b052.js"><link rel="prefetch" href="/assets/js/14.6a53dc1e.js"><link rel="prefetch" href="/assets/js/15.84088994.js"><link rel="prefetch" href="/assets/js/16.09fbb166.js"><link rel="prefetch" href="/assets/js/17.38b70eaf.js"><link rel="prefetch" href="/assets/js/18.24a31878.js"><link rel="prefetch" href="/assets/js/19.e58abf47.js"><link rel="prefetch" href="/assets/js/20.a4e1f7ec.js"><link rel="prefetch" href="/assets/js/21.520b96e8.js"><link rel="prefetch" href="/assets/js/22.8455ead8.js"><link rel="prefetch" href="/assets/js/23.012b6e4c.js"><link rel="prefetch" href="/assets/js/24.90bca786.js"><link rel="prefetch" href="/assets/js/25.0b9867c9.js"><link rel="prefetch" href="/assets/js/26.5835b50d.js"><link rel="prefetch" href="/assets/js/27.90bf64b9.js"><link rel="prefetch" href="/assets/js/28.8b2856a2.js"><link rel="prefetch" href="/assets/js/29.4f0f0797.js"><link rel="prefetch" href="/assets/js/3.b8e8b8dc.js"><link rel="prefetch" href="/assets/js/30.ec214258.js"><link rel="prefetch" href="/assets/js/31.19d008c9.js"><link rel="prefetch" href="/assets/js/32.e2e7fb69.js"><link rel="prefetch" href="/assets/js/33.e7250e7c.js"><link rel="prefetch" href="/assets/js/34.6af80751.js"><link rel="prefetch" href="/assets/js/35.8c6fd912.js"><link rel="prefetch" href="/assets/js/36.abacb260.js"><link rel="prefetch" href="/assets/js/37.872fafd6.js"><link rel="prefetch" href="/assets/js/38.c11a6237.js"><link rel="prefetch" href="/assets/js/39.0251e2ab.js"><link rel="prefetch" href="/assets/js/4.a97bd63a.js"><link rel="prefetch" href="/assets/js/40.490030c9.js"><link rel="prefetch" href="/assets/js/41.ae009df1.js"><link rel="prefetch" href="/assets/js/42.733a49d6.js"><link rel="prefetch" href="/assets/js/43.6b0719ec.js"><link rel="prefetch" href="/assets/js/44.8abd3659.js"><link rel="prefetch" href="/assets/js/45.7e9da5d6.js"><link rel="prefetch" href="/assets/js/46.69831b02.js"><link rel="prefetch" href="/assets/js/47.0187e2c6.js"><link rel="prefetch" href="/assets/js/49.c0de9630.js"><link rel="prefetch" href="/assets/js/5.9f3cace6.js"><link rel="prefetch" href="/assets/js/50.dd93629a.js"><link rel="prefetch" href="/assets/js/51.0de94388.js"><link rel="prefetch" href="/assets/js/52.f40156a5.js"><link rel="prefetch" href="/assets/js/53.cd0087a3.js"><link rel="prefetch" href="/assets/js/54.dc27779e.js"><link rel="prefetch" href="/assets/js/55.e83361b5.js"><link rel="prefetch" href="/assets/js/56.e98fbba1.js"><link rel="prefetch" href="/assets/js/57.29f5154b.js"><link rel="prefetch" href="/assets/js/58.2a266b80.js"><link rel="prefetch" href="/assets/js/59.a0a6d426.js"><link rel="prefetch" href="/assets/js/6.ea94c1bd.js"><link rel="prefetch" href="/assets/js/60.431c1ff3.js"><link rel="prefetch" href="/assets/js/61.f3c25606.js"><link rel="prefetch" href="/assets/js/62.df795bbf.js"><link rel="prefetch" href="/assets/js/7.954bbdf7.js"><link rel="prefetch" href="/assets/js/8.5ac09073.js"><link rel="prefetch" href="/assets/js/9.1c3b9112.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d01e3fed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-navbar"><!----> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>CSS 专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/css/1.html" class="sidebar-link">css 常用知识点</a></li><li><a href="/doc/css/2.html" class="sidebar-link">清除浮动</a></li><li><a href="/doc/css/3.html" class="sidebar-link">三大经典问题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML 专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/html/1.html" class="sidebar-link">浏览器解析流程</a></li><li><a href="/doc/html/2.html" class="sidebar-link">viewport原理</a></li><li><a href="/doc/html/3.html" class="sidebar-link">meta标签</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JS 专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/js/1-1.html" class="sidebar-link">堆栈调用（上篇）</a></li><li><a href="/doc/js/1-2.html" class="sidebar-link">堆栈调用（下篇）</a></li><li><a href="/doc/js/2.html" class="sidebar-link">作用域与闭包</a></li><li><a href="/doc/js/3.html" class="sidebar-link">this绑定解析</a></li><li><a href="/doc/js/4-1.html" class="sidebar-link">call、apply原理与使用场景</a></li><li><a href="/doc/js/4-2.html" class="sidebar-link">bind 的原理与使用场景</a></li><li><a href="/doc/js/5-1.html" class="sidebar-link">浅拷贝概念以及实现原理</a></li><li><a href="/doc/js/5-2.html" class="sidebar-link">深拷贝概念以及实现原理</a></li><li><a href="/doc/js/6-1.html" class="sidebar-link">原型与继承之基本概念</a></li><li><a href="/doc/js/6-2.html" class="sidebar-link">原型与继承之（6种继承方案）</a></li><li><a href="/doc/js/7.html" class="sidebar-link">事件机制</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>工具函数 专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/utils/1.html" class="sidebar-link">常见的JS方法</a></li><li><a href="/doc/utils/2.html" class="sidebar-link">常见的正则表达式</a></li><li><a href="/doc/utils/3.html" class="sidebar-link">常用的时间处理方法</a></li><li><a href="/doc/utils/4.html" class="sidebar-link">常用的金额处理方法</a></li><li><a href="/doc/utils/5.html" class="sidebar-link">继承和原型链demo</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTTP 专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/http/1.html" class="sidebar-link">常见的14种响应状态码</a></li><li><a href="/doc/http/2.html" class="sidebar-link">Http首部字段</a></li><li><a href="/doc/http/3.html" class="sidebar-link">Https介绍</a></li><li><a href="/doc/http/4.html" class="sidebar-link">Web的攻击技术</a></li><li><a href="/doc/http/5.html" class="sidebar-link">Http 发展历史</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue 专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/vue/1.html" class="sidebar-link">Vue 双向绑定的原理</a></li><li><a href="/doc/vue/2.html" class="sidebar-link">Vue 踩坑总结</a></li><li><a href="/doc/vue/3.html" class="sidebar-link">Vue 生命周期详解</a></li><li><a href="/doc/vue/4.html" class="sidebar-link">Vuex 基本用法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Node 专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/node/1.html" class="sidebar-link">用node撸一个前端自动化发布工具</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>项目总结</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/project/1.html" class="sidebar-link">H5项目总结</a></li><li><a href="/doc/project/2.html" class="sidebar-link">首页优化项目总结</a></li><li><a href="/doc/project/3.html" class="sidebar-link">vue 输入限制</a></li><li><a href="/doc/project/4.html" class="sidebar-link">搜车库项目总结</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="http的缺点"><a href="#http的缺点" aria-hidden="true" class="header-anchor">#</a> http的缺点</h3> <p>1、通信使用明文，内容可能会被窃听。
应对方法：
通信加密，通过SSL或TLS的组合使用加密HTTP的通信内容即HTTPS。
内容加密，客户端与服务端的报文采用加密和解密机制来进行通信。
2、不验证通信方的身份，因此有可能遭遇到请求伪装。
应对方法：使用证书来证明服务器和客户端是实际存在可信任的。
3、无法证明把报文的完整性，可能已经被篡改。
应对方法：用MD5或SHA-1等哈希值校验的方法来确认文件的正确性。即在本地生成的MD5值和服务器传输的MD5值进行对比。但是这种方法也存在问题，因为MD5值在传输过程中也可能被篡改。</p> <h3 id="http-加密-认证-完整性保护-https"><a href="#http-加密-认证-完整性保护-https" aria-hidden="true" class="header-anchor">#</a> HTTP + 加密 + 认证 + 完整性保护 = HTTPS</h3> <p>HTTPS 并非是应用层的一种新协议。只是HTTP通信接口部分用SSL和TLS带替而已。通常Http和TCP通信。当使用SSL时就演变为和HTTP先和SSL通信，再和TCP通信。</p> <h4 id="相互交换密钥的加密技术"><a href="#相互交换密钥的加密技术" aria-hidden="true" class="header-anchor">#</a> 相互交换密钥的加密技术</h4> <p>1、共享加密（对称性加密）</p> <p>加密和解密用的是同一种密钥的方式成为共享密钥加密，也被叫做对称密钥加密。其过程就是在发送加密内容的时候把钥匙也发送过去，对方收到这个加密的内容用这个密钥进行解密。但是这样就出现一个问题，当钥匙被攻击者获取后，加密也就是去了意义。</p> <p><img src="http://p2w3pqeze.bkt.clouddn.com//TuJieHttp/7-1.png" alt="image"></p> <p>2、公开密钥加密（非对称性加密）
公开密钥加密方式很好地解决了共享密钥加密的困难。
公开密钥加密使用一对非对称的密钥。一把叫做私有密钥(private key ),另一把叫做公开密钥(public key)。私有密钥是个人私有的，公开密钥可以向任何人公开。其过程就是A向B发送信息时，用B的公钥进行加密，B收到信息后就可以用B自己的私钥进行解密。因为只有个人的私钥才能解密，所以这个安全性会大幅度地提升。</p> <p>实例图：</p> <p><img src="http://p2w3pqeze.bkt.clouddn.com//TuJieHttp/7-2.png" alt="image"></p> <p>3、 混合加密机制
HTTPS 采用共享密钥加密和公开密钥加密两者并用的混合加密机
制。因为公开密钥加密安全性高但速度慢，而共享密钥安全性低但速度快，所以应充分利用2者各自的优势，
在交换密钥环节使用公开密钥加密方式，之后的建立通信交换报文阶段则使用共享密钥加密方式。</p> <p>实例图：</p> <p><img src="http://p2w3pqeze.bkt.clouddn.com//TuJieHttp/7-3.png" alt="image"></p> <h4 id="证明公钥正确性的证书"><a href="#证明公钥正确性的证书" aria-hidden="true" class="header-anchor">#</a> 证明公钥正确性的证书</h4> <p>虽然公钥加密的安全性高，但是还是会存在漏洞，因为公钥在传输的过程中可能会被劫持、替换。因此需要证明公钥的正确性。可以使用由数字证书认证机构和其相关机关颁发的公开密钥证书来证明公钥的正确性。</p> <p>证书申请业务流程：
首先，服务器的运营人员向数字证书认证机构提出公开密钥的申请。数字证书认证机构在判明提出申请者的身份之后，会对已申请的公开密钥做数字签名，然后分配这个已签名的公开密钥，并将该公开密钥放人公钥证书后绑定在一起。
之后服务器在和客户端进行通信时，会将得到的公钥证书发送给客户端，客户端可使用数字证书认证机构的公开密钥,对那张证书上的数字签名进行验证。</p> <p>一旦验证通过，客户端便可明确两件事:
一、认证服务器的公开密钥的是真实有效的数字证书认证机构。
二、服务器的公开密钥是值得信赖的。</p> <p>实例图：<img src="http://p2w3pqeze.bkt.clouddn.com//TuJieHttp/7-4.png" alt="image"></p> <h4 id="https的安全通信机制"><a href="#https的安全通信机制" aria-hidden="true" class="header-anchor">#</a> HTTPS的安全通信机制</h4> <p>步骤图：<img src="http://p2w3pqeze.bkt.clouddn.com//TuJieHttp/7-5.png" alt="image"></p> <p>步骤1:
客户端通过发送Client Hello报文开始SSL 通信。报文中包含客户端支持的SSL的指定版本、加密组件(Cipher Suite) 列表(所使用的加密算法及密钥长度等)。</p> <p>步骤2:
服务器可进行SSL 通信时，会以Server Hello 报文作为应答。和客户端一样，在报文中包含SSL版本以及加密组件。服务器的加密组件内容是从接收到的客户端加密组件
内筛选出来的。</p> <p>步骤3:
之后服务器发送Certificate报文。报文中包含公开密钥证书。</p> <p>步骤4:
最后服务器发送ServerHelloDone报文通知客户端，最初阶段的SSL 握手协商部分结束。</p> <p>步骤5:
SSL 第一次握手结東之后，客户端以Client Key Exchange
报文作为回应。报文中包含通信加密中使用的一种被称为Pre-master secret 的随机密码串。该报文已用步骤3中的公开密钥进行加密。</p> <p>步骤6:
接着客户端继续发送ChangeCipherSpec报文。该报文会提示服务器,在此报文之后的通信会采用Pre-mastersecret密钥加密。</p> <p>步骤7:
客户端发送Finished报文。该报文包含连接至今全部报文的整体校验值。这次握手协商是否能够成功，要以服务器是否能够正确解密该报文作为判定标准。</p> <p>步骤8:
服务器同样发送ChangeCipherSpec报文。</p> <p>步骤9:
服务器同样发送Finished报文。</p> <p>步骤10:
服务器和客户端的Finished 报文交换完毕之后,SSL 连接就算建立完成。当然，通信会受到SSL 的保护。从此处开始进行应用层协议的通信，即发送HTTP 请求。</p> <p>步骤11: 应用层协议通信，即发送HTTP响应。</p> <p>步骤12: 最后由客户端断开连接。断开连接时，发送close.notify报文，这步之后再发送TCP FIN 报文来关闭与TCP的通信。</p> <h4 id="为什么不一直使用https"><a href="#为什么不一直使用https" aria-hidden="true" class="header-anchor">#</a> 为什么不一直使用HTTPS</h4> <p>1、速度慢、耗性能
因为与纯文本通信相比，加密通信会消耗更多的CPU及内存资源，导致处理速度变慢。
2、成本</p> <p>HTTPS通信需要安全证书，购买证书需要花费一定的成本。</p> <p>因此综上所诉，只有传输敏感的信息时才使用HTTPS,保证其安全性。而对非敏感的信息用HTTP传输，节约成本。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c9da9db2.js" defer></script><script src="/assets/js/2.febc0262.js" defer></script><script src="/assets/js/48.d573af72.js" defer></script>
  </body>
</html>
